default_count = uma_to_tim_count.get(uma_code, 1)
weight = UMA_WEIGHTS.get((uma_code, tim), 1.0 / default_count)

# ⭐⭐⭐ EXCEPTION 150 / HTD :
# pas de division, pas de pondération, pas de partage → valeur BRUTE
if site_label == "HTD" and uma_code == "150":
    assigned_m = base_m
    assigned_c = base_c
else:
    assigned_m = base_m * weight
    assigned_c = base_c * weight
