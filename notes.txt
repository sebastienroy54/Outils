def test_oracle_connection(user, password, tns_alias):
    test_sql = "C:/Users/4251352/Portail_outils/SQL/test_connexion.sql"

    cmd = f"sqlplus -S {user}/{password}@{tns_alias} @{test_sql}"

    try:
        print("test")
        result = subprocess.run(
            cmd,
            shell=True,
            stdout=subprocess.PIPE,
            capture_output=True,
            text=True,
            timeout=3
        )
        print("test3")
        output = result.stdout.strip()
        return "1" in output

    except Exception:
        print("test2")
        return False
